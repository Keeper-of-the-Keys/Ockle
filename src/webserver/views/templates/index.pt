<!DOCTYPE html>
<tal:block metal:use-macro="layout">
 <tal:block metal:fill-slot="head_content">
	<meta name="MSSmartTagsPreventParsing" content="true" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="/static/canviz/styles_inner.css" />
	<!--[if IE]><script type="text/javascript" src="/static/canviz/excanvas/excanvas.js"></script><![endif]-->
	<script type="text/javascript" src="/static/canviz/prototype/prototype.js"></script>
	<script type="text/javascript" src="/static/canviz/path/path.js"></script>
	<script type="text/javascript" src="/static/canviz/adapters/prototype.js"></script>
	<script type="text/javascript" src="/static/canviz/canviz.js"></script>
	<script type="text/javascript" src="/static/canviz/scripts_common.js"></script>
	<script type="text/javascript">
	document.observe('dom:loaded', function() {
	var graph_in_xdot='${structure: xdottree}';
	if (graph_in_xdot != "Error connecting to Ockle server"){
		graphRender=new Canviz('canviz');
		graphRender.parse(graph_in_xdot);
		height = $('canviz_canvas_1').readAttribute('height');
		width = $('canviz_canvas_1').readAttribute('width');
		$('canviswrapper').setStyle({
			minHeight: height+ "px",
			minWidth: width+ "px"
			});
		alert("yay");
		} else{
			alert("fail to connect");
		}
	});

	</script>
 </tal:block>
    <div metal:fill-slot="content">
        <h2>Server Network</h2>
     <table>
     <tr><td>
     <div id="canviswrapper" style="background-color:red;min-height:1000px;">
     	<div id="canviz"></div>
     </div>
	</td>
	<td>
	<br/>
	<p>Auto Control Status: ${autoControlStatus}</p>
	</td></tr>
	</table>
<div id="debug_output"></div>
    </div>
</tal:block>
